<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta charset="utf-8">
</head>
<body>
	<canvas>您的浏览器不支持canvas，请换一个浏览器</canvas>
</body>
<script type="text/javascript">
var canvas = document.getElementsByTagName('canvas')[0];
canvas.width = 1000;
canvas.height = 600;
canvas.style.display = 'block';
canvas.style.margin = '10px auto';
canvas.style.border = '1px solid black';

var cxt = canvas.getContext('2d');
var balls = [];

circlesPath();
drawCircles();
isInIt();

function circlesPath(){
    for(var i =0; i<10;i++){
        var R = Math.random()*20 + 30;
        aBall = {
            r : R,
            x : Math.random()*(canvas.width - 2 * R) + R,
            y : Math.random()*(canvas.height - 2 * R) + R
        }

        balls.push(aBall);
    }
}

function drawCircles(){
    for(var i = 0; i < balls.length;i++){
        for(var j = 1; j < balls.length - i; j++){
            var distance = Math.sqrt((balls[i].x - balls[i + j].x) * (balls[i].x - balls[i + j].x) + (balls[i].y - balls[i + j].y) * (balls[i].y - balls[i + j].y));

            if(distance <= balls[i].r + balls[i + j].r){
                balls.splice(i,1);
            }   
        }
    }

    for (var i = 0; i < balls.length;i++){
        cxt.beginPath();
        cxt.arc(balls[i].x,balls[i].y,balls[i].r,0,2*Math.PI);
        cxt.fillStyle = "#F66";
        cxt.fill();
        cxt.closePath();
    }
        
}

function isInIt(){
    canvas.onmousemove = function(event){
        cxt.clearRect(0,0,canvas.width,canvas.height);
        var x = event.clientX - canvas.getBoundingClientRect().left;
        var y = event.clientY - canvas.getBoundingClientRect().top;
        
        for(var i = 0; i < balls.length;i++){
            cxt.beginPath();
            cxt.arc(balls[i].x,balls[i].y,balls[i].r,0,2*Math.PI);

            if(cxt.isPointInPath(x,y)){
                cxt.fillStyle = "blue";
                cxt.fill();
            }
            else{
                cxt.fillStyle = "#F66";
                cxt.fill();
            }
            



            cxt.closePath();
        }
    }
}
</script>
</html>
