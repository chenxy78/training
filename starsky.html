<!DOCTYPE html>
<html>
<head>
	<title>starsky</title>
	<meta charset="utf-8">
</head>
<body>
<canvas>您的浏览器不支持canvas，请换一个浏览器</canvas>
</body>
<script type="text/javascript">
	window.onload = function(){
		var canvas = document.getElementsByTagName('canvas')[0];
		var context = canvas.getContext('2d');
      
		canvas.width = 600;
		canvas.height = 600;
		canvas.style.display = "block";
		canvas.style.margin = "20px auto";
		canvas.style.border = "1px solid black";
        

        var grd = context.createLinearGradient(0,0,0,600);
        grd.addColorStop(0.0,"#000");
        grd.addColorStop(1.0,"rgb(12,19,69)");
        context.fillStyle = grd;
        context.fillRect(0,0,600,600);

        for(var i =0 ; i< 130;i++){
        	var x = Math.random()*canvas.width;
        	var y = Math.random()*canvas.height*0.5;
        	var degree = Math.random() * 2 * Math.PI;
        	var zoom = Math.random()*10 + 5;
            
            if(x <= zoom){
            	x = zoom;
            }
            if(x >= canvas.width - zoom){
            	x = canvas.width - zoom;
            }
            if (y <= zoom) {
            	y = zoom;
            };

        	drawStars(context,x,y,degree,zoom);
        }
		
	}

	function drawStars(cxt,x,y,degree,zoom){
		
		
			cxt.save();

			cxt.translate(x,y);
			cxt.rotate(degree);
			cxt.scale(zoom,zoom);
			drawAStar(cxt);

			cxt.restore();
		
		
		
		
	}

	function drawAStar(cxt){
        cxt.beginPath();
		for(var i = 0;i < 6;i++){
			cxt.lineTo(Math.cos((18+i*72)/180*Math.PI),-Math.sin((18+i*72)/180*Math.PI));
			cxt.lineTo(Math.cos((54+i*72)/180*Math.PI)*0.5,-Math.sin((54+i*72)/180*Math.PI)*0.6);
		}

		cxt.fillStyle = "rgb(247,228,9)";
		cxt.fill();

		cxt.closePath();
	}
</script>
</html>
